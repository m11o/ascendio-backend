# リサーチと設計決定

---
**目的**: 技術設計を裏付ける発見事項、アーキテクチャ調査、およびその根拠を記録する。
---

## サマリー
- **フィーチャー**: `clean-architecture`
- **発見の範囲**: シンプルな追加
- **主要な発見事項**:
  - プロジェクトは現在、ほぼ何も存在しない状態であり、標準的な構造を設定するのに理想的である。
  - 要求された構造は、`cmd`、`internal`、`domain`、`usecase`、`interface`、`infrastructure` を使用したクリーンアーキテクチャの標準的なGo実装である。
  - ディレクトリ構造自体には外部依存関係は必要ない。

## リサーチログ

### プロジェクト構造パターン
- **コンテキスト**: 保守可能なGoバックエンドのための最適なディレクトリレイアウトを決定する。
- **参照元**: 標準的なGoプロジェクトレイアウト、クリーンアーキテクチャの原則。
- **発見事項**:
  - `cmd/`: アプリケーションのエントリーポイントの標準。
  - `internal/`: プライベートなアプリケーションコードの標準であり、モジュール性を強制する。
  - レイヤードアーキテクチャ (Domain, Usecase, Interface, Infrastructure) は関心の分離を促進する。
- **含意**: 要求事項で提案された構造は、Goの業界のベストプラクティスに完全に合致する。

## アーキテクチャパターン評価

| オプション | 説明 | 強み | リスク / 制限 | 備考 |
|---|---|---|---|---|
| 標準Goクリーンアーキテクチャ | レイヤード: Domain < Usecase < Interface < Infra | 明確な境界、高いテスト容易性、拡張性 | 小規模なアプリではボイラープレートが多い | 選択されたアプローチ |

## 設計決定

### 決定: ディレクトリ構造のみ
- **コンテキスト**: ユーザーは実装ファイルではなく、ディレクトリの作成のみを要求した。
- **検討された代替案**:
  1. ボイラープレートコード（main.go、インターフェースなど）を生成する。
  2. 空のファイル（.gitkeep）を生成する。
- **選択されたアプローチ**: ディレクトリツリーを作成する。
- **根拠**: 「Goのソースファイル自体は作成しません」という要求事項に厳密に従うため。
- **トレードオフ**: 最初は構造が空になるが、不要なボイラープレートを削除することなく、開発者が自由に埋められるようになる。

## リスクと緩和策
- リスク1: 空のディレクトリはgitによって追跡されない可能性がある。
  - 緩和策: ユーザーはこれを認識しているか、厳密に必要であれば `.gitkeep` を追加することも可能だが、要件では「Goファイルはなし」とされているため、他のファイルは許容されると解釈する。現時点では、ローカル環境のフォルダ作成が主要な目標であると仮定する。

## 参照
- [標準Goプロジェクトレイアウト](https://github.com/golang-standards/project-layout)
